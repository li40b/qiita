---
title: vueでrequire()を使うとエラーが起きて動かなくなってしまった。
tags:
  - Vue.js
  - vite
private: false
updated_at: '2023-04-01T10:49:58+09:00'
id: a6efb85eb44d639f8911
organization_url_name: null
slide: false
ignorePublish: false
---
## はじめに

vueでconponentを作成しpropsを使って画像のpathを渡そうと思ったがうまく表示させる事ができなかった。
色々試してみて解決方法と原因がわかったので同じ現象に合った方は試してみてください。

## 環境
- M1 mac book
- vite
- vue3
- nuxt3

## 試してみた事①

`require()`を使う。

propsで画像のpathを渡したい時などはrequire()を使えばいいと記事では多くみた。

- 親コンポーネント
  ```js
  <script setup lang="ts">
    import srcImg from "画像path"
  </script>
  <template>
    <component/ :srcImg="srcImg">
  </template>
  ```
- 子コンポーネント
  ```js
  <script setup lang="ts">
    const props = defineProps({
      srcImg : String,
    })
  </script>

  <template>
    <div>
      <img :src="srcImg" alt="画像">
    </div>
  </template>
  ```
この方法が一番多く記事としてあったが自分の環境ではうまく表示する事ができなかった
  
## 試してみた事②

`import`を使って画像のpathを読み込む

自分の環境では`vite`を使って開発しています。
どうやら`vite`を使っていると`require()`を使う事ができないらしい。
（原因はここだった）

この方法を使ってうまく表示する事ができました。

- 親コンポーネント
  ```js
  <script setup lang="ts">
    import srcImg from "画像path"
  </script>
  <template>
    <component/ :srcImg="srcImg" >
  </template>
  ```

- 子コンポーネント
  ```js
  <script setup lang="ts">
    const props = defineProps({
      srcImg : String,
    })
  </script>

  <template>
    <div>
      <img :src="srcImg" alt="画像">
    </div>
  </template>
  ```

## まとめ

一度`vite`を使ってしまうと`vue-cli`には戻れる気はしないので解決できてよかったです。
